<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>3D Car Game</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background: #0a0a0a;
            font-family: Arial, sans-serif;
        }
        #hud {
            position: fixed;
            top: 10px;
            left: 10px;
            padding: 10px 14px;
            background: rgba(0,0,0,0.5);
            color: white;
            border-radius: 6px;
            z-index: 10;
        }
    </style>
</head>
<body>

<div id="hud">WASD to drive â€¢ Speed: <span id="speed">0</span></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r152/three.min.js"></script>

<script>
/* ------------------------------
   BASIC THREE.JS SETUP
--------------------------------*/
const scene = new THREE.Scene();
scene.background = new THREE.Color(0x101018);

const camera = new THREE.PerspectiveCamera(
    60,
    window.innerWidth / window.innerHeight,
    0.1,
    1000
);
camera.position.set(0, 6, 12);

const renderer = new THREE.WebGLRenderer({ antialias: true });
renderer.setSize(window.innerWidth, window.innerHeight);
document.body.appendChild(renderer.domElement);

/* ------------------------------
   LIGHTING
--------------------------------*/
const hemi = new THREE.HemisphereLight(0xffffff, 0x222233, 0.8);
scene.add(hemi);

const dir = new THREE.DirectionalLight(0xffffff, 1);
dir.position.set(10, 20, 10);
scene.add(dir);

/* ------------------------------
   GROUND
--------------------------------*/
const groundGeo = new THREE.PlaneGeometry(500, 500);
const groundMat = new THREE.MeshStandardMaterial({ color: 0x202028 });
const ground = new THREE.Mesh(groundGeo, groundMat);
ground.rotation.x = -Math.PI / 2;
scene.add(ground);

/* ------------------------------
   CAR MODEL
--------------------------------*/
const car = new THREE.Group();

// Body
const bodyGeo = new THREE.BoxGeometry(2, 0.6, 4);
const bodyMat = new THREE.MeshStandardMaterial({ color: 0xff3333 });
const body = new THREE.Mesh(bodyGeo, bodyMat);
body.position.y = 0.6;
car.add(body);

// Wheels
const wheelGeo = new THREE.CylinderGeometry(0.5, 0.5, 0.4, 16);
const wheelMat = new THREE.MeshStandardMaterial({ color: 0x111111 });

function makeWheel(x, z) {
    const w = new THREE.Mesh(wheelGeo, wheelMat);
    w.rotation.z = Math.PI / 2;
    w.position.set(x, 0.3, z);
    return w;
}

car.add(makeWheel(1, 1.5));
car.add(makeWheel(-1, 1.5));
car.add(makeWheel(1, -1.5));
car.add(makeWheel(-1, -1.5));

scene.add(car);

/* ------------------------------
   SIMPLE CAR PHYSICS
--------------------------------*/
let speed = 0;
let steering = 0;

const maxSpeed = 40;
const accel = 20;
const friction = 8;
const steerStrength = 1.5;

const keys = {};
window.addEventListener("keydown", e => keys[e.code] = true);
window.addEventListener("keyup", e => keys[e.code] = false);

/* ------------------------------
   ANIMATION LOOP
--------------------------------*/
function animate() {
    requestAnimationFrame(animate);

    // Input
    if (keys["KeyW"]) speed += accel * 0.02;
    if (keys["KeyS"]) speed -= accel * 0.02;

    speed = Math.max(Math.min(speed, maxSpeed), -maxSpeed);

    // Friction
    if (!keys["KeyW"] && !keys["KeyS"]) {
        if (speed > 0) speed -= friction * 0.02;
        if (speed < 0) speed += friction * 0.02;
        if (Math.abs(speed) < 0.1) speed = 0;
    }

    // Steering
    if (keys["KeyA"]) steering = steerStrength;
    else if (keys["KeyD"]) steering = -steerStrength;
    else steering = 0;

    car.rotation.y += steering * (speed / maxSpeed) * 0.05;

    // Move forward
    const forward = new THREE.Vector3(0, 0, -1).applyQuaternion(car.quaternion);
    car.position.addScaledVector(forward, speed
